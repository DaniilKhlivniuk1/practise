let BASE_URL="https://680dfedbc47cb8074d91bfe7.mockapi.io/ap/post/comments",form=document.querySelector(".form"),titleInput=document.querySelector(".form-title"),textInput=document.querySelector(".form-text"),postsList=document.querySelector(".posts");async function getPosts(){try{let t=await fetch(BASE_URL),e=await t.json();postsList.innerHTML="",e.forEach(renderPost)}catch(t){console.error("Помилка при отриманні постів:",t)}}function renderPost(t){let e=document.createElement("li");e.className="post",e.innerHTML=`
    <h3 class="post-title">${t.title}</h3>
    <p class="post-text">${t.text}</p>
    <button class="btn-delete" data-id="${t.id}">\u{412}\u{438}\u{434}\u{430}\u{43B}\u{438}\u{442}\u{438}</button>
  `,postsList.appendChild(e)}form.addEventListener("submit",async t=>{t.preventDefault();let e=titleInput.value.trim(),o=textInput.value.trim();if(e&&o)try{let t=await fetch(BASE_URL,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:e,text:o})}),s=await t.json();renderPost(s),form.reset()}catch(t){console.error("Помилка при створенні поста:",t)}}),postsList.addEventListener("click",async t=>{if(t.target.classList.contains("btn-delete")){let e=t.target.dataset.id;try{await fetch(`${BASE_URL}/${e}`,{method:"DELETE"}),t.target.closest(".post").remove()}catch(t){console.error("Помилка при видаленні поста:",t)}}}),getPosts();
//# sourceMappingURL=practise.ed5c9d54.js.map
